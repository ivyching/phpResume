!function(e){var t={};function r(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,l){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(l,n,function(t){return e[t]}.bind(null,n));return l},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=684)}({14:function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},684:function(e,t,r){(function(e){function t(e,t){for(var r=0;r<t.length;r++){var l=t[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}e.jQuery;!function(e,r,l){var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=r(this._selector.supplierInputSelector);t.before(this._html.supplierDispalyHtml),"readonly"==t.attr("readonly")&&r(this._selector.supplierDispalySelector).attr("readonly",!0),"disabled"==t.attr("disabled")&&r(this._selector.supplierDispalySelector).attr("disabled",!0),t.hide();var l=this;t.on("change",function(){6!=r(l._selector.supplierInputSelector).val().length&&(r(l._selector.supplierInputSelector).val(""),r(l._selector.supplierDispalySelector).val(""))}),r(this._selector.supplierDispalySelector).on("change",function(){6==r(l._selector.supplierDispalySelector).val().length?r.ajax({url:l.path.inquerySuppliertUrl,method:"post",data:{supplierCode:r(l._selector.supplierDispalySelector).val()},success:l.InquerySuccessFunction.bind(l)}):r(l._selector.supplierDispalySelector).val().length<6&&(r(l._selector.supplierInputSelector).val(""),r(l._selector.supplierDispalySelector).val(""))}),t.val()&&r.ajax({url:this.path.inquerySuppliertUrl,method:"post",data:{supplierCode:t.val()},success:this.InquerySuccessFunction.bind(this)}),r(this._selector.supplierDispalySelector).autocomplete({minLength:this.minLength,matchContains:this.matchContains,maxShowItems:this.maxShowItems,delay:this.delay,source:this.autoCompleteSourceFunction.bind(this),select:this.autoCompleteSelectFunction.bind(this)})}return function(e,r,l){r&&t(e.prototype,r),l&&t(e,l)}(e,[{key:"InquerySuccessFunction",value:function(e){e.supplierCode?(r(this._selector.supplierDispalySelector).val(e.supplierCode+" "+e.Name),r(this._selector.supplierInputSelector).val(e.supplierCode)):(r(this._selector.supplierInputSelector).val(""),r(this._selector.supplierDispalySelector).val(""))}},{key:"autoCompleteSourceFunction",value:function(e,t){r.ajax({url:this.path.inquerySupplierListUrl,type:"POST",dataType:"json",data:{supplierCode:e.term},success:function(e){t(r.map(e,function(e){var t={};for(var r in e)t[r]=e[r];return t.label=e.supplierCode+" "+e.Name,t.value=e.supplierCode+" "+e.Name,t}))}})}},{key:"autoCompleteSelectFunction",value:function(e,t){var l=t.item;r(this._selector.supplierDispalySelector).siblings(this._selector.supplierInputSelector).val(l.supplierCode)}},{key:"path",get:function(){return{inquerySuppliertUrl:l.generate("inquerySupplier"),inquerySupplierListUrl:l.generate("inquerySupplierList")}}},{key:"_selector",get:function(){return{supplierDispalySelector:"input.supplierDisplay",supplierInputSelector:"input[name*=supplierCode]"}}},{key:"_html",get:function(){return{supplierDispalyHtml:'<input type="text" class="supplierDisplay form-control" maxlength="6">'}}},{key:"minLength",get:function(){return 0}},{key:"matchContains",get:function(){return!0}},{key:"maxShowItems",get:function(){return 5}},{key:"delay",get:function(){return 1e3}}]),e}();e.SupplierAutoComplete=n}(window,jQuery,Routing)}).call(this,r(14))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvU3VwcGxpZXJBdXRvQ29tcGxldGUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnIiwidGhpcyIsIkZ1bmN0aW9uIiwiZXZhbCIsImUiLCJ3aW5kb3ciLCJnbG9iYWwiLCJqUXVlcnkiLCJ3aW5kb3dzIiwiJCIsIlJvdXRpbmciLCJTdXBwbGllckF1dG9Db21wbGV0ZSIsIl9jbGFzc0NhbGxDaGVjayIsIiRzdXBwbGllcklucHV0IiwiX3NlbGVjdG9yIiwic3VwcGxpZXJJbnB1dFNlbGVjdG9yIiwiYmVmb3JlIiwiX2h0bWwiLCJzdXBwbGllckRpc3BhbHlIdG1sIiwiYXR0ciIsInN1cHBsaWVyRGlzcGFseVNlbGVjdG9yIiwiaGlkZSIsInNlbGYiLCJvbiIsInZhbCIsImxlbmd0aCIsImFqYXgiLCJ1cmwiLCJwYXRoIiwiaW5xdWVyeVN1cHBsaWVydFVybCIsIm1ldGhvZCIsImRhdGEiLCJzdXBwbGllckNvZGUiLCJzdWNjZXNzIiwiSW5xdWVyeVN1Y2Nlc3NGdW5jdGlvbiIsImF1dG9jb21wbGV0ZSIsIm1pbkxlbmd0aCIsIm1hdGNoQ29udGFpbnMiLCJtYXhTaG93SXRlbXMiLCJkZWxheSIsInNvdXJjZSIsImF1dG9Db21wbGV0ZVNvdXJjZUZ1bmN0aW9uIiwic2VsZWN0IiwiYXV0b0NvbXBsZXRlU2VsZWN0RnVuY3Rpb24iLCJfY3JlYXRlQ2xhc3MiLCJyZUFyciIsIk5hbWUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJpbnF1ZXJ5U3VwcGxpZXJMaXN0VXJsIiwidHlwZSIsImRhdGFUeXBlIiwidGVybSIsIm1hcCIsIml0ZW0iLCJyZXN1bHQiLCJsYWJlbCIsImV2ZW50IiwidWkiLCJzaWJsaW5ncyIsImdlbmVyYXRlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxF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LElBQUEsZ0JBQUFWLElBQUEsV0F1RnBCLE9BQU8sS0F2RmFVLElBQUEsZUFBQVYsSUFBQSxXQTBGcEIsT0FBTyxLQTFGYVUsSUFBQSxRQUFBVixJQUFBLFdBNkZwQixPQUFPLFFBN0ZhOEIsRUFBQSxHQTJJNUJILEVBQVFHLHFCQUF1QkEsRUEzSW5DLENBNklHTixPQUFRRSxPQUFRRyIsImZpbGUiOiJTdXBwbGllckF1dG9Db21wbGV0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2ODQpO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImNvbnN0ICQgPSBnbG9iYWwualF1ZXJ5O1xyXG5cclxuLy/oh6rli5Xmib7nlavpnaLkuIrnmoRpbnB1dFtuYW1lKj1zdXBwbGllckNvZGVdIOWKoOS4inN1cHBsaWVy5LiL5ouJXHJcbihmdW5jdGlvbiAod2luZG93cywgJCwgUm91dGluZykge1xyXG4gICAgY2xhc3MgU3VwcGxpZXJBdXRvQ29tcGxldGV7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgICAgIGNvbnN0ICRzdXBwbGllcklucHV0ID0gJCh0aGlzLl9zZWxlY3Rvci5zdXBwbGllcklucHV0U2VsZWN0b3IpXHJcbiAgICAgICAgICAgICRzdXBwbGllcklucHV0LmJlZm9yZSh0aGlzLl9odG1sLnN1cHBsaWVyRGlzcGFseUh0bWwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCRzdXBwbGllcklucHV0LmF0dHIoXCJyZWFkb25seVwiKSA9PSBcInJlYWRvbmx5XCIpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcy5fc2VsZWN0b3Iuc3VwcGxpZXJEaXNwYWx5U2VsZWN0b3IpLmF0dHIoXCJyZWFkb25seVwiLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCRzdXBwbGllcklucHV0LmF0dHIoXCJkaXNhYmxlZFwiKSA9PSBcImRpc2FibGVkXCIpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcy5fc2VsZWN0b3Iuc3VwcGxpZXJEaXNwYWx5U2VsZWN0b3IpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHN1cHBsaWVySW5wdXQuaGlkZSgpO1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICRzdXBwbGllcklucHV0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCQoc2VsZi5fc2VsZWN0b3Iuc3VwcGxpZXJJbnB1dFNlbGVjdG9yKS52YWwoKS5sZW5ndGggIT0gNikge1xyXG4gICAgICAgICAgICAgICAgICAgICQoc2VsZi5fc2VsZWN0b3Iuc3VwcGxpZXJJbnB1dFNlbGVjdG9yKS52YWwoJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoc2VsZi5fc2VsZWN0b3Iuc3VwcGxpZXJEaXNwYWx5U2VsZWN0b3IpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKHRoaXMuX3NlbGVjdG9yLnN1cHBsaWVyRGlzcGFseVNlbGVjdG9yKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgkKHNlbGYuX3NlbGVjdG9yLnN1cHBsaWVyRGlzcGFseVNlbGVjdG9yKS52YWwoKS5sZW5ndGggPT0gNikge1xyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VsZi5wYXRoLmlucXVlcnlTdXBwbGllcnRVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllckNvZGU6ICQoc2VsZi5fc2VsZWN0b3Iuc3VwcGxpZXJEaXNwYWx5U2VsZWN0b3IpLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHNlbGYuSW5xdWVyeVN1Y2Nlc3NGdW5jdGlvbi5iaW5kKHNlbGYpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJChzZWxmLl9zZWxlY3Rvci5zdXBwbGllckRpc3BhbHlTZWxlY3RvcikudmFsKCkubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICAgICAgICAgICQoc2VsZi5fc2VsZWN0b3Iuc3VwcGxpZXJJbnB1dFNlbGVjdG9yKS52YWwoJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoc2VsZi5fc2VsZWN0b3Iuc3VwcGxpZXJEaXNwYWx5U2VsZWN0b3IpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkc3VwcGxpZXJJbnB1dC52YWwoKSkge1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHRoaXMucGF0aC5pbnF1ZXJ5U3VwcGxpZXJ0VXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VwcGxpZXJDb2RlOiAkc3VwcGxpZXJJbnB1dC52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdGhpcy5JbnF1ZXJ5U3VjY2Vzc0Z1bmN0aW9uLmJpbmQodGhpcylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQodGhpcy5fc2VsZWN0b3Iuc3VwcGxpZXJEaXNwYWx5U2VsZWN0b3IpLmF1dG9jb21wbGV0ZSh7XHJcbiAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IHRoaXMubWluTGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hDb250YWluczogdGhpcy5tYXRjaENvbnRhaW5zLFxyXG4gICAgICAgICAgICAgICAgbWF4U2hvd0l0ZW1zOiB0aGlzLm1heFNob3dJdGVtcyxcclxuICAgICAgICAgICAgICAgIGRlbGF5OiB0aGlzLmRlbGF5LFxyXG4gICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLmF1dG9Db21wbGV0ZVNvdXJjZUZ1bmN0aW9uLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHRoaXMuYXV0b0NvbXBsZXRlU2VsZWN0RnVuY3Rpb24uYmluZCh0aGlzKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXQgcGF0aCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlucXVlcnlTdXBwbGllcnRVcmw6IFJvdXRpbmcuZ2VuZXJhdGUoJ2lucXVlcnlTdXBwbGllcicpLFxyXG4gICAgICAgICAgICAgICAgaW5xdWVyeVN1cHBsaWVyTGlzdFVybDogUm91dGluZy5nZW5lcmF0ZSgnaW5xdWVyeVN1cHBsaWVyTGlzdCcpLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdldCBfc2VsZWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdXBwbGllckRpc3BhbHlTZWxlY3RvcjogJ2lucHV0LnN1cHBsaWVyRGlzcGxheScsXHJcbiAgICAgICAgICAgICAgICBzdXBwbGllcklucHV0U2VsZWN0b3I6ICdpbnB1dFtuYW1lKj1zdXBwbGllckNvZGVdJyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0IF9odG1sKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdXBwbGllckRpc3BhbHlIdG1sOiAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJzdXBwbGllckRpc3BsYXkgZm9ybS1jb250cm9sXCIgbWF4bGVuZ3RoPVwiNlwiPicsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldCBtaW5MZW5ndGgoKXtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSAgLy/mnIDnn63op7jnmbzlrZfkuLLplbfluqZcclxuICAgICAgICBnZXQgbWF0Y2hDb250YWlucygpe1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9ICAvL+aYr+WQpuaooeeziuavlOWwjVxyXG4gICAgICAgIGdldCBtYXhTaG93SXRlbXMoKXtcclxuICAgICAgICAgICAgcmV0dXJuIDU7XHJcbiAgICAgICAgfSAvL29wdGlvbuWAi+aVuFxyXG4gICAgICAgIGdldCBkZWxheSgpe1xyXG4gICAgICAgICAgICByZXR1cm4gMTAwMDtcclxuICAgICAgICB9IC8v5bu26YGyXHJcblxyXG5cclxuICAgICAgICBJbnF1ZXJ5U3VjY2Vzc0Z1bmN0aW9uIChyZUFycikge1xyXG4gICAgICAgICAgICBpZiAocmVBcnIuc3VwcGxpZXJDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMuX3NlbGVjdG9yLnN1cHBsaWVyRGlzcGFseVNlbGVjdG9yKS52YWwocmVBcnIuc3VwcGxpZXJDb2RlICsgJyAnICsgcmVBcnIuTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMuX3NlbGVjdG9yLnN1cHBsaWVySW5wdXRTZWxlY3RvcikudmFsKHJlQXJyLnN1cHBsaWVyQ29kZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMuX3NlbGVjdG9yLnN1cHBsaWVySW5wdXRTZWxlY3RvcikudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcy5fc2VsZWN0b3Iuc3VwcGxpZXJEaXNwYWx5U2VsZWN0b3IpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF1dG9Db21wbGV0ZVNvdXJjZUZ1bmN0aW9uKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiB0aGlzLnBhdGguaW5xdWVyeVN1cHBsaWVyTGlzdFVybCxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBzdXBwbGllckNvZGU6IHJlcXVlc3QudGVybVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UoJC5tYXAoZGF0YSwgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBpdGVtW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5sYWJlbCA9IGl0ZW0uc3VwcGxpZXJDb2RlICsgJyAnICsgaXRlbS5OYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudmFsdWUgPSBpdGVtLnN1cHBsaWVyQ29kZSArICcgJyArIGl0ZW0uTmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXV0b0NvbXBsZXRlU2VsZWN0RnVuY3Rpb24gKGV2ZW50LCB1aSkge1xyXG4gICAgICAgICAgICAvL+mBuOmgheiiq+m7nuaTiuW+jOihjOeCulxyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHVpLml0ZW07XHJcbiAgICAgICAgICAgIGNvbnN0ICRzdXBwbGllckRpc3BsYXkgPSAkKHRoaXMuX3NlbGVjdG9yLnN1cHBsaWVyRGlzcGFseVNlbGVjdG9yKTtcclxuICAgICAgICAgICAgJHN1cHBsaWVyRGlzcGxheS5zaWJsaW5ncyh0aGlzLl9zZWxlY3Rvci5zdXBwbGllcklucHV0U2VsZWN0b3IpLnZhbChpdGVtLnN1cHBsaWVyQ29kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvd3MuU3VwcGxpZXJBdXRvQ29tcGxldGUgPSBTdXBwbGllckF1dG9Db21wbGV0ZTtcclxuXHJcbn0pKHdpbmRvdywgalF1ZXJ5LCBSb3V0aW5nKTsiXSwic291cmNlUm9vdCI6IiJ9