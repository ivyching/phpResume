!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=692)}({14:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},692:function(e,t,n){(function(e){function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var n=e.jQuery,o=function(){function e(t,o,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=this;this.button=t,this.userID=o,this.functionName=i,this.caseOrgID=r,n(n(this.button).data("target")).on("click",this._selector.sub,this._subData.bind(this)),n(t).click(function(){a._userCaseList(this)})}return function(e,n,o){n&&t(e.prototype,n),o&&t(e,o)}(e,[{key:"_list",value:function(){var e=this,t=this.userID;n("#userIDList tr").remove(),""!=n.trim(t)&&n.ajax({url:Routing.generate("UserIDHistory_list",{userID:this.userID}),method:"POST",datatype:"json",contentType:"application/json",success:function(t){if(0===t.length){n(e._selector.userIDList).append('\n                            <tr>\n                                <td class="text-center red" colspan="10">查無資料</td>\n                            </tr>\n                        ')}else n.each(t,function(t,n){e._appendList(n)})},error:function(){n(e._selector.userIDList).append('\n                            <tr>\n                                <td class="text-center red" colspan="10">請重新整理</td>\n                            </tr>\n                        ')}})}},{key:"_userCaseList",value:function(e){var t=this,o=n(this._selector.userIDField).val();n("#userIDList tr").remove(),""!=n.trim(o)&&n.ajax({url:Routing.generate("UserIDHistory_list",{userID:o}),method:"POST",datatype:"json",contentType:"application/json",success:function(e){if(0===e.length){n(t._selector.userIDList).append('\n                            <tr>\n                                <td class="text-center red" colspan="10">查無資料</td>\n                            </tr>\n                        ')}else n.each(e,function(e,n){t._appendList(n)})},error:function(){n(t._selector.userIDList).append('\n                            <tr>\n                                <td class="text-center red" colspan="10">請重新整理</td>\n                            </tr>\n                        ')}})}},{key:"_appendList",value:function(e){var t=this.caseOrgID,o="<label class='label label-default'>否</label>";9==e.isCaseOpened&&(o="<label class='label label-green'>是</label>");var i="<label class='label label-default'>否</label>";9==e.isCaseClosed&&(i="<label class='label label-green'>是</label>");var r="";e.orgID!=t&&(r="label-pink");var a='\n            <tr>\n                <td class="text-center '+r+'">'+e.orgName+'</td>\n                <td class="text-center '+r+'">'+e.caseNumber+'</td>\n                <td class="text-center '+r+'">'+e.name+'</td>\n                <td class="text-center '+r+'">'+e.openingDate+'</td>\n                <td class="text-center '+r+'">'+e.oiDate+'</td>\n                <td class="text-center '+r+'">'+o+'</td>\n                <td class="text-center '+r+'">'+i+'</td>\n                <td class="text-center '+r+'">'+e.serviceTime+'</td>\n                <td class="text-center '+r+'">'+e.ownerUserName+'</td>\n                <td class="text-center '+r+'"><button class="btn btn-success sub" type="button" id="'+e.casePreID+'">帶入</button></td>\n            </tr>\n        ';n(this._selector.userIDList).append(a)}},{key:"_subData",value:function(e){var t=this,o=e.target.id;n.ajax({url:Routing.generate("UserIDHistory_getDetail",{id:o}),method:"POST",datatype:"json",contentType:"application/json",success:function(e){t._writeDetails(e)},error:function(){n(t._selector.userIDList).append('\n                    <tr>\n                        <td class="text-center red" colspan="10">請重新整理</td>\n                    </tr>\n                ')}})}},{key:"_writeDetails",value:function(e){var t=this.functionName;if(n("#"+t+"_form_name").val(e.name),"mf01"==t||"mf02"==t){n("#"+t+"_form_gender").val(e.gender);for(var o=1;o<12;o++){if(o<10)1==e["identityOption0"+o]?n("#"+t+"_form_identityOption0"+o).prop("checked",!0):n("#"+t+"_form_identityOption0"+o).prop("checked",!1);else if(10==o)1==e.identityOption10?n("#"+t+"_form_identityOption10").prop("checked",!0):n("#"+t+"_form_identityOption10").prop("checked",!1);else 1==e.identityOption99?n("#"+t+"_form_identityOption99").prop("checked",!0):n("#"+t+"_form_identityOption99").prop("checked",!1)}n("#"+t+"_form_identityOption99Desc").val(e.identityOption99Desc),""!=n.trim(e.identityOption99Desc)?(n("#"+t+"_form_identityOption99Desc").removeClass("hidden"),n("#"+t+"_form_identityOption99Desc").prop("disabled",!1)):(n("#"+t+"_form_identityOption99Desc").addClass("hidden"),n("#"+t+"_form_identityOption99Desc").val(""),n("#"+t+"_form_identityOption99Desc").prop("disabled",!0)),n("#"+t+"_form_birthday").val(e.birthday),n("#"+t+"_form_homePhone").val(e.homePhone),n("#"+t+"_form_officePhone").val(e.officePhone),n("#"+t+"_form_mobilePhone").val(e.mobilePhone),n("#"+t+"_form_addressCity1").val(e.addressCityno1),changeAreaCode(n("#"+t+"_form_addressCity1")),n("#postID1").val(e.addressPostcode1),n("#"+t+"_form_address1").val(e.address1),n("#"+t+"_form_addressCity2").val(e.addressCityno2),changeAreaCode(n("#"+t+"_form_addressCity2")),n("#postID2").val(e.addressPostcode2),n("#"+t+"_form_address2").val(e.address2),n("#"+t+"_form_contactName1").val(e.contactName1),n("#"+t+"_form_contactRelationship1").val(e.contactRelationship1),n("#"+t+"_form_contactPhone1").val(e.contactPhone1),n("#"+t+"_form_contactName2").val(e.contactName2),n("#"+t+"_form_contactRelationship2").val(e.contactRelationship2),n("#"+t+"_form_contactPhone2").val(e.contactPhone2),n("#"+t+"_form_maritalStatus").val(e.maritalStatus),n("#"+t+"_form_maritalDesc").val(e.maritalDesc),""!=n.trim(e.maritalDesc)?n("div.maritalDesc").removeClass("hidden"):(n("div.maritalDesc").addClass("hidden"),n("#"+t+"_form_maritalDesc").val("")),n("#"+t+"_form_educationLevel").val(e.educationLevel),n("#"+t+"_form_educationDesc").val(e.educationDesc),""!=n.trim(e.educationDesc)?n("div.educationDesc").removeClass("hidden"):(n("div.educationDesc").addClass("hidden"),n("#"+t+"_form_educationDesc").val("")),setTimeout(function(){n("#"+t+"_form_addressPostcode1").val(e.addressPostcode1),n("#"+t+"_form_addressPostcode2").val(e.addressPostcode2)},1200),getCaseOpeningAge()}else if("mf03"==t)n("#"+t+"_form_caseNumber").val(e.caseNumber),n("#"+t+"_form_oiDate").val(e.oiDate);else if("mf06"==t){n("#"+t+"_form_gender").val(e.gender),n("#"+t+"_form_birthday").val(e.birthday),n("#"+t+"_form_addressCity").val(e.addressCityno1),changeAreaCode(n("#"+t+"_form_addressCity")),n("#postID").val(e.addressPostcode1),n("#"+t+"_form_address").val(e.address1);for(o=1;o<12;o++){if(o<10)1==e["identityOption0"+o]?n("#"+t+"_form_identityOption0"+o).prop("checked",!0):n("#"+t+"_form_identityOption0"+o).prop("checked",!1);else if(10==o)1==e.identityOption10?n("#"+t+"_form_identityOption10").prop("checked",!0):n("#"+t+"_form_identityOption10").prop("checked",!1);else 1==e.identityOption99?n("#"+t+"_form_identityOption99").prop("checked",!0):n("#"+t+"_form_identityOption99").prop("checked",!1)}n("#"+t+"_form_identityOption99Desc").val(e.identityOption99Desc),""!=n.trim(e.identityOption99Desc)?(n("#"+t+"_form_identityOption99Desc").removeClass("hidden"),n("#"+t+"_form_identityOption99Desc").prop("disabled",!1)):(n("#"+t+"_form_identityOption99Desc").addClass("hidden"),n("#"+t+"_form_identityOption99Desc").val(""),n("#"+t+"_form_identityOption99Desc").prop("disabled",!0)),n("#"+t+"_form_phone").val(e.homePhone),n("#"+t+"_form_mobilePhone").val(e.mobilePhone),n("#"+t+"_form_contactName").val(e.contactName1),n("#"+t+"_form_contactRelationship").val(e.contactRelationship1),n("#"+t+"_form_contactPhone").val(e.contactPhone1),setTimeout(function(){n("#"+t+"_form_addressPostcode").val(e.addressPostcode1)},1200)}n(n(this.button).data("target")).modal("hide")}},{key:"_selector",get:function(){return{userIDList:"#userIDList",userIDField:"#"+this.functionName+"_form_userID",sub:"button.sub"}}}]),e}();window.UserIDHistory=o}).call(this,n(14))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvVXNlcklESGlzdG9yeS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImciLCJ0aGlzIiwiRnVuY3Rpb24iLCJldmFsIiwiZSIsIndpbmRvdyIsIiQiLCJnbG9iYWwiLCJqUXVlcnkiLCJVc2VySURIaXN0b3J5IiwiYnV0dG9uIiwidXNlcklEIiwiZnVuY3Rpb25OYW1lIiwiY2FzZU9yZ0lEIiwiX2NsYXNzQ2FsbENoZWNrIiwic2VsZiIsImRhdGEiLCJvbiIsIl9zZWxlY3RvciIsInN1YiIsIl9zdWJEYXRhIiwiY2xpY2siLCJfdXNlckNhc2VMaXN0IiwicmVtb3ZlIiwidHJpbSIsImFqYXgiLCJ1cmwiLCJSb3V0aW5nIiwiZ2VuZXJhdGUiLCJtZXRob2QiLCJkYXRhdHlwZSIsImNvbnRlbnRUeXBlIiwic3VjY2VzcyIsImxlbmd0aCIsInVzZXJJRExpc3QiLCJhcHBlbmQiLCJlYWNoIiwiX2FwcGVuZExpc3QiLCJlcnJvciIsInVzZXJJREZpZWxkIiwidmFsIiwiY2FzZU9wZW5lZCIsImNhc2VDbG9zZWQiLCJjb2xvciIsImh0bWwiLCJjbGlja0RhdGEiLCJ0YXJnZXQiLCJpZCIsIl93cml0ZURldGFpbHMiLCJwcm9wIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNoYW5nZUFyZWFDb2RlIiwic2V0VGltZW91dCIsImdldENhc2VPcGVuaW5nQWdlIiwibW9kYWwiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxHQUlBbEMsSUFBQW1DLEVBQUEsd0JDbEZBLElBQUFDLEVBR0FBLEVBQUEsV0FDQSxPQUFBQyxLQURBLEdBSUEsSUFFQUQsS0FBQUUsU0FBQSxjQUFBQSxLQUFBLEVBQUFDLE1BQUEsUUFDQyxNQUFBQyxHQUVELGlCQUFBQyxTQUFBTCxFQUFBSyxRQU9BdEMsRUFBQUQsUUFBQWtDLDBNQ25CQSxJQUFNTSxFQUFJQyxFQUFPQyxPQUVYQyxhQUNGLFNBQUFBLEVBQVlDLEVBQVFDLEVBQVFDLEVBQWNDLGdHQUFXQyxDQUFBYixLQUFBUSxHQUNqRCxJQUFJTSxFQUFPZCxLQUNYQSxLQUFLUyxPQUFTQSxFQUNkVCxLQUFLVSxPQUFTQSxFQUNkVixLQUFLVyxhQUFlQSxFQUNwQlgsS0FBS1ksVUFBWUEsRUFFakJQLEVBQUVBLEVBQUVMLEtBQUtTLFFBQVFNLEtBQUssV0FBV0MsR0FBRyxRQUFTaEIsS0FBS2lCLFVBQVVDLElBQUtsQixLQUFLbUIsU0FBUzVCLEtBQUtTLE9BSXBGSyxFQUFFSSxHQUFRVyxNQUFNLFdBQ1pOLEVBQUtPLGNBQWNyQiwrRkFldkIsSUFBSWMsRUFBT2QsS0FDUFUsRUFBU1YsS0FBS1UsT0FDbEJMLEVBQUUsa0JBQWtCaUIsU0FFRSxJQUFsQmpCLEVBQUVrQixLQUFLYixJQUNQTCxFQUFFbUIsTUFDRUMsSUFBS0MsUUFBUUMsU0FBUyxzQkFBc0JqQixPQUFRVixLQUFLVSxTQUN6RGtCLE9BQVEsT0FDUkMsU0FBVSxPQUNWQyxZQUFhLG1CQUNiQyxRQUFTLFNBQVVoQixHQUNmLEdBQW9CLElBQWhCQSxFQUFLaUIsT0FBYyxDQU9uQjNCLEVBQUVTLEVBQUtHLFVBQVVnQixZQUFZQyxPQU5yQiw0TEFRUjdCLEVBQUU4QixLQUFLcEIsRUFBTSxTQUFVekIsRUFBS04sR0FDeEI4QixFQUFLc0IsWUFBWXBELE1BSTdCcUQsTUFBTyxXQU9IaEMsRUFBRVMsRUFBS0csVUFBVWdCLFlBQVlDLE9BTnJCLGlPQVlUL0IsR0FDWCxJQUFJVyxFQUFPZCxLQUNQVSxFQUFTTCxFQUFFTCxLQUFLaUIsVUFBVXFCLGFBQWFDLE1BQzNDbEMsRUFBRSxrQkFBa0JpQixTQUVFLElBQWxCakIsRUFBRWtCLEtBQUtiLElBQ1BMLEVBQUVtQixNQUNFQyxJQUFLQyxRQUFRQyxTQUFTLHNCQUFzQmpCLE9BQVFBLElBQ3BEa0IsT0FBUSxPQUNSQyxTQUFVLE9BQ1ZDLFlBQWEsbUJBQ2JDLFFBQVMsU0FBVWhCLEdBQ2YsR0FBb0IsSUFBaEJBLEVBQUtpQixPQUFjLENBT25CM0IsRUFBRVMsRUFBS0csVUFBVWdCLFlBQVlDLE9BTnJCLDRMQVFSN0IsRUFBRThCLEtBQUtwQixFQUFNLFNBQVV6QixFQUFLTixHQUN4QjhCLEVBQUtzQixZQUFZcEQsTUFJN0JxRCxNQUFPLFdBT0hoQyxFQUFFUyxFQUFLRyxVQUFVZ0IsWUFBWUMsT0FOckIsK05BWVpuQixHQUNSLElBQ0lILEVBQVlaLEtBQUtZLFVBRWpCNEIsRUFBYSwrQ0FDVyxHQUF4QnpCLEVBQUksZUFDSnlCLEVBQWEsOENBR2pCLElBQUlDLEVBQWEsK0NBQ1csR0FBeEIxQixFQUFJLGVBQ0owQixFQUFhLDhDQUdqQixJQUFJQyxFQUFRLEdBQ1IzQixFQUFJLE9BQWFILElBQ2pCOEIsRUFBUSxjQUdaLElBQUlDLEVBQU8sOERBRXNCRCxFQUZ0QixLQUVpQzNCLEVBQUksUUFGckMsaURBR3NCMkIsRUFIdEIsS0FHaUMzQixFQUFJLFdBSHJDLGlEQUlzQjJCLEVBSnRCLEtBSWlDM0IsRUFBSSxLQUpyQyxpREFLc0IyQixFQUx0QixLQUtpQzNCLEVBQUksWUFMckMsaURBTXNCMkIsRUFOdEIsS0FNaUMzQixFQUFJLE9BTnJDLGlEQU9zQjJCLEVBUHRCLEtBT2lDRixFQVBqQyxpREFRc0JFLEVBUnRCLEtBUWlDRCxFQVJqQyxpREFTc0JDLEVBVHRCLEtBU2lDM0IsRUFBSSxZQVRyQyxpREFVc0IyQixFQVZ0QixLQVVpQzNCLEVBQUksY0FWckMsaURBV3NCMkIsRUFYdEIsMkRBV3VGM0IsRUFBSSxVQVgzRixrREFlWFYsRUFBRUwsS0FBS2lCLFVBQVVnQixZQUFZQyxPQUFPUyxvQ0FHL0J4QyxHQUNMLElBQUlXLEVBQU9kLEtBQ1A0QyxFQUFZekMsRUFBRTBDLE9BQU9DLEdBRXpCekMsRUFBRW1CLE1BQ0VDLElBQUtDLFFBQVFDLFNBQVMsMkJBQTJCbUIsR0FBSUYsSUFDckRoQixPQUFRLE9BQ1JDLFNBQVUsT0FDVkMsWUFBYSxtQkFDYkMsUUFBUyxTQUFVaEIsR0FDZkQsRUFBS2lDLGNBQWNoQyxJQUV2QnNCLE1BQU8sV0FPSGhDLEVBQUVTLEVBQUtHLFVBQVVnQixZQUFZQyxPQU5yQixpTUFXTG5CLEdBQ1gsSUFDSUosRUFBZVgsS0FBS1csYUFJeEIsR0FGQU4sRUFBRSxJQUFJTSxFQUFhLGNBQWM0QixJQUFJeEIsRUFBSSxNQUVyQixRQUFoQkosR0FBMEMsUUFBaEJBLEVBQXdCLENBQ2xETixFQUFFLElBQUlNLEVBQWEsZ0JBQWdCNEIsSUFBSXhCLEVBQUksUUFFM0MsSUFBSyxJQUFJaEQsRUFBRSxFQUFFQSxFQUFFLEdBQUdBLElBQUssQ0FDbkIsR0FBSUEsRUFBRSxHQUdXLEdBRkRnRCxFQUFLLGtCQUFrQmhELEdBRy9Cc0MsRUFBRSxJQUFJTSxFQUFhLHdCQUF3QjVDLEdBQUdpRixLQUFLLFdBQVcsR0FFOUQzQyxFQUFFLElBQUlNLEVBQWEsd0JBQXdCNUMsR0FBR2lGLEtBQUssV0FBVyxRQUdsRSxHQUFTLElBQUxqRixFQUVhLEdBRERnRCxFQUFJLGlCQUVaVixFQUFFLElBQUlNLEVBQWEsMEJBQTBCcUMsS0FBSyxXQUFXLEdBRTdEM0MsRUFBRSxJQUFJTSxFQUFhLDBCQUEwQnFDLEtBQUssV0FBVyxRQUlwRCxHQUREakMsRUFBSSxpQkFFWlYsRUFBRSxJQUFJTSxFQUFhLDBCQUEwQnFDLEtBQUssV0FBVyxHQUU3RDNDLEVBQUUsSUFBSU0sRUFBYSwwQkFBMEJxQyxLQUFLLFdBQVcsR0FNN0UzQyxFQUFFLElBQUlNLEVBQWEsOEJBQThCNEIsSUFBSXhCLEVBQUksc0JBQ2IsSUFBeENWLEVBQUVrQixLQUFLUixFQUFJLHVCQUNYVixFQUFFLElBQUlNLEVBQWEsOEJBQThCc0MsWUFBWSxVQUM3RDVDLEVBQUUsSUFBSU0sRUFBYSw4QkFBOEJxQyxLQUFLLFlBQVksS0FFbEUzQyxFQUFFLElBQUlNLEVBQWEsOEJBQThCdUMsU0FBUyxVQUMxRDdDLEVBQUUsSUFBSU0sRUFBYSw4QkFBOEI0QixJQUFJLElBQ3JEbEMsRUFBRSxJQUFJTSxFQUFhLDhCQUE4QnFDLEtBQUssWUFBWSxJQUd0RTNDLEVBQUUsSUFBSU0sRUFBYSxrQkFBa0I0QixJQUFJeEIsRUFBSSxVQUU3Q1YsRUFBRSxJQUFJTSxFQUFhLG1CQUFtQjRCLElBQUl4QixFQUFJLFdBQzlDVixFQUFFLElBQUlNLEVBQWEscUJBQXFCNEIsSUFBSXhCLEVBQUksYUFDaERWLEVBQUUsSUFBSU0sRUFBYSxxQkFBcUI0QixJQUFJeEIsRUFBSSxhQUVoRFYsRUFBRSxJQUFJTSxFQUFhLHNCQUFzQjRCLElBQUl4QixFQUFJLGdCQUNqRG9DLGVBQWU5QyxFQUFFLElBQUlNLEVBQWEsdUJBQ2xDTixFQUFFLFlBQVlrQyxJQUFJeEIsRUFBSSxrQkFDdEJWLEVBQUUsSUFBSU0sRUFBYSxrQkFBa0I0QixJQUFJeEIsRUFBSSxVQUM3Q1YsRUFBRSxJQUFJTSxFQUFhLHNCQUFzQjRCLElBQUl4QixFQUFJLGdCQUNqRG9DLGVBQWU5QyxFQUFFLElBQUlNLEVBQWEsdUJBQ2xDTixFQUFFLFlBQVlrQyxJQUFJeEIsRUFBSSxrQkFDdEJWLEVBQUUsSUFBSU0sRUFBYSxrQkFBa0I0QixJQUFJeEIsRUFBSSxVQUU3Q1YsRUFBRSxJQUFJTSxFQUFhLHNCQUFzQjRCLElBQUl4QixFQUFJLGNBQ2pEVixFQUFFLElBQUlNLEVBQWEsOEJBQThCNEIsSUFBSXhCLEVBQUksc0JBQ3pEVixFQUFFLElBQUlNLEVBQWEsdUJBQXVCNEIsSUFBSXhCLEVBQUksZUFDbERWLEVBQUUsSUFBSU0sRUFBYSxzQkFBc0I0QixJQUFJeEIsRUFBSSxjQUNqRFYsRUFBRSxJQUFJTSxFQUFhLDhCQUE4QjRCLElBQUl4QixFQUFJLHNCQUN6RFYsRUFBRSxJQUFJTSxFQUFhLHVCQUF1QjRCLElBQUl4QixFQUFJLGVBRWxEVixFQUFFLElBQUlNLEVBQWEsdUJBQXVCNEIsSUFBSXhCLEVBQUksZUFDbERWLEVBQUUsSUFBSU0sRUFBYSxxQkFBcUI0QixJQUFJeEIsRUFBSSxhQUNiLElBQS9CVixFQUFFa0IsS0FBS1IsRUFBSSxhQUNYVixFQUFFLG1CQUFtQjRDLFlBQVksV0FFakM1QyxFQUFFLG1CQUFtQjZDLFNBQVMsVUFDOUI3QyxFQUFFLElBQUlNLEVBQWEscUJBQXFCNEIsSUFBSSxLQUdoRGxDLEVBQUUsSUFBSU0sRUFBYSx3QkFBd0I0QixJQUFJeEIsRUFBSSxnQkFDbkRWLEVBQUUsSUFBSU0sRUFBYSx1QkFBdUI0QixJQUFJeEIsRUFBSSxlQUNiLElBQWpDVixFQUFFa0IsS0FBS1IsRUFBSSxlQUNYVixFQUFFLHFCQUFxQjRDLFlBQVksV0FFbkM1QyxFQUFFLHFCQUFxQjZDLFNBQVMsVUFDaEM3QyxFQUFFLElBQUlNLEVBQWEsdUJBQXVCNEIsSUFBSSxLQUdsRGEsV0FBVyxXQUNQL0MsRUFBRSxJQUFJTSxFQUFhLDBCQUEwQjRCLElBQUl4QixFQUFJLGtCQUNyRFYsRUFBRSxJQUFJTSxFQUFhLDBCQUEwQjRCLElBQUl4QixFQUFJLG1CQUN0RCxNQUVIc0MseUJBQ0csR0FBb0IsUUFBaEIxQyxFQUNQTixFQUFFLElBQUlNLEVBQWEsb0JBQW9CNEIsSUFBSXhCLEVBQUksWUFDL0NWLEVBQUUsSUFBSU0sRUFBYSxnQkFBZ0I0QixJQUFJeEIsRUFBSSxhQUN4QyxHQUFvQixRQUFoQkosRUFBd0IsQ0FDL0JOLEVBQUUsSUFBSU0sRUFBYSxnQkFBZ0I0QixJQUFJeEIsRUFBSSxRQUMzQ1YsRUFBRSxJQUFJTSxFQUFhLGtCQUFrQjRCLElBQUl4QixFQUFJLFVBRTdDVixFQUFFLElBQUlNLEVBQWEscUJBQXFCNEIsSUFBSXhCLEVBQUksZ0JBQ2hEb0MsZUFBZTlDLEVBQUUsSUFBSU0sRUFBYSxzQkFDbENOLEVBQUUsV0FBV2tDLElBQUl4QixFQUFJLGtCQUNyQlYsRUFBRSxJQUFJTSxFQUFhLGlCQUFpQjRCLElBQUl4QixFQUFJLFVBRTVDLElBQVNoRCxFQUFFLEVBQUVBLEVBQUUsR0FBR0EsSUFBSyxDQUNuQixHQUFJQSxFQUFFLEdBR1csR0FGRGdELEVBQUssa0JBQWtCaEQsR0FHL0JzQyxFQUFFLElBQUlNLEVBQWEsd0JBQXdCNUMsR0FBR2lGLEtBQUssV0FBVyxHQUU5RDNDLEVBQUUsSUFBSU0sRUFBYSx3QkFBd0I1QyxHQUFHaUYsS0FBSyxXQUFXLFFBR2xFLEdBQVMsSUFBTGpGLEVBRWEsR0FERGdELEVBQUksaUJBRVpWLEVBQUUsSUFBSU0sRUFBYSwwQkFBMEJxQyxLQUFLLFdBQVcsR0FFN0QzQyxFQUFFLElBQUlNLEVBQWEsMEJBQTBCcUMsS0FBSyxXQUFXLFFBSXBELEdBRERqQyxFQUFJLGlCQUVaVixFQUFFLElBQUlNLEVBQWEsMEJBQTBCcUMsS0FBSyxXQUFXLEdBRTdEM0MsRUFBRSxJQUFJTSxFQUFhLDBCQUEwQnFDLEtBQUssV0FBVyxHQU03RTNDLEVBQUUsSUFBSU0sRUFBYSw4QkFBOEI0QixJQUFJeEIsRUFBSSxzQkFDYixJQUF4Q1YsRUFBRWtCLEtBQUtSLEVBQUksdUJBQ1hWLEVBQUUsSUFBSU0sRUFBYSw4QkFBOEJzQyxZQUFZLFVBQzdENUMsRUFBRSxJQUFJTSxFQUFhLDhCQUE4QnFDLEtBQUssWUFBWSxLQUVsRTNDLEVBQUUsSUFBSU0sRUFBYSw4QkFBOEJ1QyxTQUFTLFVBQzFEN0MsRUFBRSxJQUFJTSxFQUFhLDhCQUE4QjRCLElBQUksSUFDckRsQyxFQUFFLElBQUlNLEVBQWEsOEJBQThCcUMsS0FBSyxZQUFZLElBR3RFM0MsRUFBRSxJQUFJTSxFQUFhLGVBQWU0QixJQUFJeEIsRUFBSSxXQUMxQ1YsRUFBRSxJQUFJTSxFQUFhLHFCQUFxQjRCLElBQUl4QixFQUFJLGFBRWhEVixFQUFFLElBQUlNLEVBQWEscUJBQXFCNEIsSUFBSXhCLEVBQUksY0FDaERWLEVBQUUsSUFBSU0sRUFBYSw2QkFBNkI0QixJQUFJeEIsRUFBSSxzQkFDeERWLEVBQUUsSUFBSU0sRUFBYSxzQkFBc0I0QixJQUFJeEIsRUFBSSxlQUVqRHFDLFdBQVcsV0FDUC9DLEVBQUUsSUFBSU0sRUFBYSx5QkFBeUI0QixJQUFJeEIsRUFBSSxtQkFDckQsTUFHUFYsRUFBRUEsRUExSk9MLEtBMEpBUyxRQUFRTSxLQUFLLFdBQVd1QyxNQUFNLDBDQTdTdkMsT0FDSXJCLFdBQVksY0FDWkssWUFBYSxJQUFJdEMsS0FBS1csYUFBYSxlQUNuQ08sSUFBSyx1QkE4U2pCZCxPQUFPSSxjQUFnQkEiLCJmaWxlIjoiVXNlcklESGlzdG9yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2OTIpO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImNvbnN0ICQgPSBnbG9iYWwualF1ZXJ5O1xyXG5cclxuY2xhc3MgVXNlcklESGlzdG9yeSB7XHJcbiAgICBjb25zdHJ1Y3RvcihidXR0b24sIHVzZXJJRCwgZnVuY3Rpb25OYW1lLCBjYXNlT3JnSUQpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5idXR0b24gPSBidXR0b247XHJcbiAgICAgICAgdGhpcy51c2VySUQgPSB1c2VySUQ7XHJcbiAgICAgICAgdGhpcy5mdW5jdGlvbk5hbWUgPSBmdW5jdGlvbk5hbWU7XHJcbiAgICAgICAgdGhpcy5jYXNlT3JnSUQgPSBjYXNlT3JnSUQ7XHJcblxyXG4gICAgICAgICQoJCh0aGlzLmJ1dHRvbikuZGF0YShcInRhcmdldFwiKSkub24oJ2NsaWNrJywgdGhpcy5fc2VsZWN0b3Iuc3ViLCB0aGlzLl9zdWJEYXRhLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICAvLyBzZWxmLl9saXN0KCk7XHJcblxyXG4gICAgICAgICQoYnV0dG9uKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3VzZXJDYXNlTGlzdCh0aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgX3NlbGVjdG9yKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXNlcklETGlzdDogXCIjdXNlcklETGlzdFwiLFxyXG4gICAgICAgICAgICB1c2VySURGaWVsZDogXCIjXCIrdGhpcy5mdW5jdGlvbk5hbWUrXCJfZm9ybV91c2VySURcIixcclxuICAgICAgICAgICAgc3ViOiBcImJ1dHRvbi5zdWJcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfbGlzdCgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVzZXJJRCA9IHRoaXMudXNlcklEO1xyXG4gICAgICAgICQoXCIjdXNlcklETGlzdCB0clwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgaWYgKCQudHJpbSh1c2VySUQpICE9ICcnKSB7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IFJvdXRpbmcuZ2VuZXJhdGUoJ1VzZXJJREhpc3RvcnlfbGlzdCcse3VzZXJJRDogdGhpcy51c2VySUR9KSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgZGF0YXR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciByZWRcIiBjb2xzcGFuPVwiMTBcIj7mn6XnhKHos4fmlpk8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoc2VsZi5fc2VsZWN0b3IudXNlcklETGlzdCkuYXBwZW5kKGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fYXBwZW5kTGlzdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyIHJlZFwiIGNvbHNwYW49XCIxMFwiPuiri+mHjeaWsOaVtOeQhjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKHNlbGYuX3NlbGVjdG9yLnVzZXJJRExpc3QpLmFwcGVuZChodG1sKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF91c2VyQ2FzZUxpc3QgKGUpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVzZXJJRCA9ICQodGhpcy5fc2VsZWN0b3IudXNlcklERmllbGQpLnZhbCgpO1xyXG4gICAgICAgICQoXCIjdXNlcklETGlzdCB0clwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgaWYgKCQudHJpbSh1c2VySUQpICE9ICcnKSB7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IFJvdXRpbmcuZ2VuZXJhdGUoJ1VzZXJJREhpc3RvcnlfbGlzdCcse3VzZXJJRDogdXNlcklEfSksXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGRhdGF0eXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXIgcmVkXCIgY29sc3Bhbj1cIjEwXCI+5p+l54Sh6LOH5paZPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHNlbGYuX3NlbGVjdG9yLnVzZXJJRExpc3QpLmFwcGVuZChodG1sKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2FwcGVuZExpc3QodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciByZWRcIiBjb2xzcGFuPVwiMTBcIj7oq4vph43mlrDmlbTnkIY8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChzZWxmLl9zZWxlY3Rvci51c2VySURMaXN0KS5hcHBlbmQoaHRtbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfYXBwZW5kTGlzdChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjYXNlT3JnSUQgPSB0aGlzLmNhc2VPcmdJRDtcclxuXHJcbiAgICAgICAgdmFyIGNhc2VPcGVuZWQgPSBcIjxsYWJlbCBjbGFzcz0nbGFiZWwgbGFiZWwtZGVmYXVsdCc+5ZCmPC9sYWJlbD5cIjtcclxuICAgICAgICBpZiAoZGF0YVsnaXNDYXNlT3BlbmVkJ10gPT0gOSkge1xyXG4gICAgICAgICAgICBjYXNlT3BlbmVkID0gXCI8bGFiZWwgY2xhc3M9J2xhYmVsIGxhYmVsLWdyZWVuJz7mmK88L2xhYmVsPlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNhc2VDbG9zZWQgPSBcIjxsYWJlbCBjbGFzcz0nbGFiZWwgbGFiZWwtZGVmYXVsdCc+5ZCmPC9sYWJlbD5cIjtcclxuICAgICAgICBpZiAoZGF0YVsnaXNDYXNlQ2xvc2VkJ10gPT0gOSkge1xyXG4gICAgICAgICAgICBjYXNlQ2xvc2VkID0gXCI8bGFiZWwgY2xhc3M9J2xhYmVsIGxhYmVsLWdyZWVuJz7mmK88L2xhYmVsPlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNvbG9yID0gJyc7XHJcbiAgICAgICAgaWYgKGRhdGFbJ29yZ0lEJ10gIT0gY2FzZU9yZ0lEKSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJ2xhYmVsLXBpbmsnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGh0bWwgPSBgXHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyIGArY29sb3IrYFwiPmArZGF0YVsnb3JnTmFtZSddK2A8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXIgYCtjb2xvcitgXCI+YCtkYXRhWydjYXNlTnVtYmVyJ10rYDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBgK2NvbG9yK2BcIj5gK2RhdGFbJ25hbWUnXStgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyIGArY29sb3IrYFwiPmArZGF0YVsnb3BlbmluZ0RhdGUnXStgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyIGArY29sb3IrYFwiPmArZGF0YVsnb2lEYXRlJ10rYDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBgK2NvbG9yK2BcIj5gK2Nhc2VPcGVuZWQrYDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBgK2NvbG9yK2BcIj5gK2Nhc2VDbG9zZWQrYDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBgK2NvbG9yK2BcIj5gK2RhdGFbJ3NlcnZpY2VUaW1lJ10rYDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBgK2NvbG9yK2BcIj5gK2RhdGFbJ293bmVyVXNlck5hbWUnXStgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyIGArY29sb3IrYFwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3Mgc3ViXCIgdHlwZT1cImJ1dHRvblwiIGlkPVwiYCtkYXRhWydjYXNlUHJlSUQnXStgXCI+5bi25YWlPC9idXR0b24+PC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICAkKHRoaXMuX3NlbGVjdG9yLnVzZXJJRExpc3QpLmFwcGVuZChodG1sKTtcclxuICAgIH1cclxuXHJcbiAgICBfc3ViRGF0YShlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjbGlja0RhdGEgPSBlLnRhcmdldC5pZDtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBSb3V0aW5nLmdlbmVyYXRlKCdVc2VySURIaXN0b3J5X2dldERldGFpbCcse2lkOiBjbGlja0RhdGF9KSxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGRhdGF0eXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl93cml0ZURldGFpbHMoZGF0YSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGBcclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyIHJlZFwiIGNvbHNwYW49XCIxMFwiPuiri+mHjeaWsOaVtOeQhjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIGA7XHJcblxyXG4gICAgICAgICAgICAgICAgJChzZWxmLl9zZWxlY3Rvci51c2VySURMaXN0KS5hcHBlbmQoaHRtbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfd3JpdGVEZXRhaWxzIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHNlbGY9dGhpcztcclxuICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gdGhpcy5mdW5jdGlvbk5hbWU7XHJcblxyXG4gICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fbmFtZScpLnZhbChkYXRhWyduYW1lJ10pO1xyXG5cclxuICAgICAgICBpZiAoZnVuY3Rpb25OYW1lID09ICdtZjAxJyB8fCBmdW5jdGlvbk5hbWUgPT0gJ21mMDInKSB7XHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fZ2VuZGVyJykudmFsKGRhdGFbJ2dlbmRlciddKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MTtpPDEyO2krKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGk8MTApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBkYXRhWydpZGVudGl0eU9wdGlvbjAnK2ldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2lkZW50aXR5T3B0aW9uMCcraSkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faWRlbnRpdHlPcHRpb24wJytpKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZGF0YVsnaWRlbnRpdHlPcHRpb24xMCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9pZGVudGl0eU9wdGlvbjEwJykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9pZGVudGl0eU9wdGlvbjEwJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRhdGFbJ2lkZW50aXR5T3B0aW9uOTknXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faWRlbnRpdHlPcHRpb245OScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faWRlbnRpdHlPcHRpb245OScpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faWRlbnRpdHlPcHRpb245OURlc2MnKS52YWwoZGF0YVsnaWRlbnRpdHlPcHRpb245OURlc2MnXSk7XHJcbiAgICAgICAgICAgIGlmICgkLnRyaW0oZGF0YVsnaWRlbnRpdHlPcHRpb245OURlc2MnXSkgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faWRlbnRpdHlPcHRpb245OURlc2MnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2lkZW50aXR5T3B0aW9uOTlEZXNjJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2lkZW50aXR5T3B0aW9uOTlEZXNjJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9pZGVudGl0eU9wdGlvbjk5RGVzYycpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2lkZW50aXR5T3B0aW9uOTlEZXNjJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9iaXJ0aGRheScpLnZhbChkYXRhWydiaXJ0aGRheSddKTtcclxuXHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faG9tZVBob25lJykudmFsKGRhdGFbJ2hvbWVQaG9uZSddKTtcclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9vZmZpY2VQaG9uZScpLnZhbChkYXRhWydvZmZpY2VQaG9uZSddKTtcclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9tb2JpbGVQaG9uZScpLnZhbChkYXRhWydtb2JpbGVQaG9uZSddKTtcclxuXHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fYWRkcmVzc0NpdHkxJykudmFsKGRhdGFbJ2FkZHJlc3NDaXR5bm8xJ10pO1xyXG4gICAgICAgICAgICBjaGFuZ2VBcmVhQ29kZSgkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2FkZHJlc3NDaXR5MScpKTtcclxuICAgICAgICAgICAgJCgnI3Bvc3RJRDEnKS52YWwoZGF0YVsnYWRkcmVzc1Bvc3Rjb2RlMSddKTtcclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9hZGRyZXNzMScpLnZhbChkYXRhWydhZGRyZXNzMSddKTtcclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9hZGRyZXNzQ2l0eTInKS52YWwoZGF0YVsnYWRkcmVzc0NpdHlubzInXSk7XHJcbiAgICAgICAgICAgIGNoYW5nZUFyZWFDb2RlKCQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fYWRkcmVzc0NpdHkyJykpO1xyXG4gICAgICAgICAgICAkKCcjcG9zdElEMicpLnZhbChkYXRhWydhZGRyZXNzUG9zdGNvZGUyJ10pO1xyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2FkZHJlc3MyJykudmFsKGRhdGFbJ2FkZHJlc3MyJ10pO1xyXG5cclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9jb250YWN0TmFtZTEnKS52YWwoZGF0YVsnY29udGFjdE5hbWUxJ10pO1xyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2NvbnRhY3RSZWxhdGlvbnNoaXAxJykudmFsKGRhdGFbJ2NvbnRhY3RSZWxhdGlvbnNoaXAxJ10pO1xyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2NvbnRhY3RQaG9uZTEnKS52YWwoZGF0YVsnY29udGFjdFBob25lMSddKTtcclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9jb250YWN0TmFtZTInKS52YWwoZGF0YVsnY29udGFjdE5hbWUyJ10pO1xyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2NvbnRhY3RSZWxhdGlvbnNoaXAyJykudmFsKGRhdGFbJ2NvbnRhY3RSZWxhdGlvbnNoaXAyJ10pO1xyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2NvbnRhY3RQaG9uZTInKS52YWwoZGF0YVsnY29udGFjdFBob25lMiddKTtcclxuXHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fbWFyaXRhbFN0YXR1cycpLnZhbChkYXRhWydtYXJpdGFsU3RhdHVzJ10pO1xyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX21hcml0YWxEZXNjJykudmFsKGRhdGFbJ21hcml0YWxEZXNjJ10pO1xyXG4gICAgICAgICAgICBpZiAoJC50cmltKGRhdGFbJ21hcml0YWxEZXNjJ10pICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdkaXYubWFyaXRhbERlc2MnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCdkaXYubWFyaXRhbERlc2MnKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX21hcml0YWxEZXNjJykudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2VkdWNhdGlvbkxldmVsJykudmFsKGRhdGFbJ2VkdWNhdGlvbkxldmVsJ10pO1xyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2VkdWNhdGlvbkRlc2MnKS52YWwoZGF0YVsnZWR1Y2F0aW9uRGVzYyddKTtcclxuICAgICAgICAgICAgaWYgKCQudHJpbShkYXRhWydlZHVjYXRpb25EZXNjJ10pICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdkaXYuZWR1Y2F0aW9uRGVzYycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJ2Rpdi5lZHVjYXRpb25EZXNjJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9lZHVjYXRpb25EZXNjJykudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2FkZHJlc3NQb3N0Y29kZTEnKS52YWwoZGF0YVsnYWRkcmVzc1Bvc3Rjb2RlMSddKTtcclxuICAgICAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fYWRkcmVzc1Bvc3Rjb2RlMicpLnZhbChkYXRhWydhZGRyZXNzUG9zdGNvZGUyJ10pO1xyXG4gICAgICAgICAgICB9LCAxMjAwKTtcclxuXHJcbiAgICAgICAgICAgIGdldENhc2VPcGVuaW5nQWdlKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmdW5jdGlvbk5hbWUgPT0gJ21mMDMnKSB7XHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fY2FzZU51bWJlcicpLnZhbChkYXRhWydjYXNlTnVtYmVyJ10pO1xyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX29pRGF0ZScpLnZhbChkYXRhWydvaURhdGUnXSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmdW5jdGlvbk5hbWUgPT0gJ21mMDYnKSB7XHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fZ2VuZGVyJykudmFsKGRhdGFbJ2dlbmRlciddKTtcclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9iaXJ0aGRheScpLnZhbChkYXRhWydiaXJ0aGRheSddKTtcclxuXHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fYWRkcmVzc0NpdHknKS52YWwoZGF0YVsnYWRkcmVzc0NpdHlubzEnXSk7XHJcbiAgICAgICAgICAgIGNoYW5nZUFyZWFDb2RlKCQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fYWRkcmVzc0NpdHknKSk7XHJcbiAgICAgICAgICAgICQoJyNwb3N0SUQnKS52YWwoZGF0YVsnYWRkcmVzc1Bvc3Rjb2RlMSddKTtcclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9hZGRyZXNzJykudmFsKGRhdGFbJ2FkZHJlc3MxJ10pO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaT0xO2k8MTI7aSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaTwxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRhdGFbJ2lkZW50aXR5T3B0aW9uMCcraV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faWRlbnRpdHlPcHRpb24wJytpKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9pZGVudGl0eU9wdGlvbjAnK2kpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBkYXRhWydpZGVudGl0eU9wdGlvbjEwJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2lkZW50aXR5T3B0aW9uMTAnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2lkZW50aXR5T3B0aW9uMTAnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZGF0YVsnaWRlbnRpdHlPcHRpb245OSddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9pZGVudGl0eU9wdGlvbjk5JykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9pZGVudGl0eU9wdGlvbjk5JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9pZGVudGl0eU9wdGlvbjk5RGVzYycpLnZhbChkYXRhWydpZGVudGl0eU9wdGlvbjk5RGVzYyddKTtcclxuICAgICAgICAgICAgaWYgKCQudHJpbShkYXRhWydpZGVudGl0eU9wdGlvbjk5RGVzYyddKSAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9pZGVudGl0eU9wdGlvbjk5RGVzYycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faWRlbnRpdHlPcHRpb245OURlc2MnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faWRlbnRpdHlPcHRpb245OURlc2MnKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2lkZW50aXR5T3B0aW9uOTlEZXNjJykudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1faWRlbnRpdHlPcHRpb245OURlc2MnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX3Bob25lJykudmFsKGRhdGFbJ2hvbWVQaG9uZSddKTtcclxuICAgICAgICAgICAgJCgnIycrZnVuY3Rpb25OYW1lKydfZm9ybV9tb2JpbGVQaG9uZScpLnZhbChkYXRhWydtb2JpbGVQaG9uZSddKTtcclxuXHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fY29udGFjdE5hbWUnKS52YWwoZGF0YVsnY29udGFjdE5hbWUxJ10pO1xyXG4gICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2NvbnRhY3RSZWxhdGlvbnNoaXAnKS52YWwoZGF0YVsnY29udGFjdFJlbGF0aW9uc2hpcDEnXSk7XHJcbiAgICAgICAgICAgICQoJyMnK2Z1bmN0aW9uTmFtZSsnX2Zvcm1fY29udGFjdFBob25lJykudmFsKGRhdGFbJ2NvbnRhY3RQaG9uZTEnXSk7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkKCcjJytmdW5jdGlvbk5hbWUrJ19mb3JtX2FkZHJlc3NQb3N0Y29kZScpLnZhbChkYXRhWydhZGRyZXNzUG9zdGNvZGUxJ10pO1xyXG4gICAgICAgICAgICB9LCAxMjAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJChzZWxmLmJ1dHRvbikuZGF0YShcInRhcmdldFwiKSkubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cuVXNlcklESGlzdG9yeSA9IFVzZXJJREhpc3Rvcnk7Il0sInNvdXJjZVJvb3QiOiIifQ==