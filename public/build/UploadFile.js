!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=61)}({61:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var o=function(){function t(e,n,o,a,i,l,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.field=e,this.id=o,this.uuid=n,this.func=l,this.type=r,this.references=[],this.funcDownloadRoute=a,this.funcDeleteRoute=i,$("#"+e).on("blur",this._selector.attachmentDropZone),$("#"+e).on("click",this._selector.delete,this._deleteFile.bind(this))}return function(t,e,o){e&&n(t.prototype,e),o&&n(t,o)}(t,[{key:"_deleteFile",value:function(t){var e=this,n={delete:t.currentTarget},o=$(n.delete),a=$(t.currentTarget).closest(".list-group-item");swal({title:"確定要刪除該筆資料嗎？",showCancelButton:!0,cancelButtonClass:"btn btn-danger",confirmButtonClass:"btn btn-primary save",buttonsStyling:!1}).then(function(t){t.value&&$.ajax({url:Routing.generate(e.funcDeleteRoute,{id:a.attr("data-id"),fieldName:e.field}),method:"Delete",success:function(t){swal({title:"該筆資料已刪除",confirmButtonClass:"btn btn-primary save",buttonsStyling:!1}),e._deleteRow(o)},error:function(){}})})}},{key:"_deleteRow",value:function(t){t.closest("p").remove()}},{key:"showMul",value:function(t){for(var e=0;e<t.length;e++){var n=t[e].originalName,o=this.type,a="";"new"!=o&&"edit"!=o&&(a="disabled");var i='\n                       <p class="list-group-item d-flex justify-content-between align-items-center lichnage" style="background-color: unset;border: unset" data-id="'.concat(t[e].id,'">\n                          <label  style="width: auto;">').concat(n,'</label>\n                           <span><a target="_blank" href="').concat(Routing.generate(this.funcDownloadRoute,{id:t[e].id}),'" class="btn btn-link btn-sm" style="vertical-align: middle">\n                           <span class="fa fa-download"></span></a>\n                           <button class="js-delete btn btn-link btn-sm" ')+a+' type="button">\n                               <span class="fa fa-trash-o"></span>\n                           </button>\n                           </span></p>\n           ';$("#"+this.field).find(this._selector.mainAttachmentList).prepend(i)}}},{key:"ID",get:function(){return this.id}},{key:"_selector",get:function(){return{mainList:"ul.js-attachment-list",filename:"label.js-attachment",download:"button#js-download",delete:"button.js-delete",save:"button#save",mainAttachmentList:"ul.js-attachment-list"}}}]),t}();window.UploadFile=o}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2pzL1VwbG9hZEZpbGUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJVcGxvYWRGaWxlIiwiZmllbGQiLCJ1dWlkIiwiaWQiLCJmdW5jRG93bmxvYWRSb3V0ZSIsImZ1bmNEZWxldGVSb3V0ZSIsImZ1bmMiLCJ0eXBlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsInJlZmVyZW5jZXMiLCIkIiwib24iLCJfc2VsZWN0b3IiLCJhdHRhY2htZW50RHJvcFpvbmUiLCJkZWxldGUiLCJfZGVsZXRlRmlsZSIsImUiLCJzZWxmIiwiZGF0YSIsImN1cnJlbnRUYXJnZXQiLCJkZWxldGVCdG4iLCIkbGkiLCJjbG9zZXN0Iiwic3dhbCIsInRpdGxlIiwic2hvd0NhbmNlbEJ1dHRvbiIsImNhbmNlbEJ1dHRvbkNsYXNzIiwiY29uZmlybUJ1dHRvbkNsYXNzIiwiYnV0dG9uc1N0eWxpbmciLCJ0aGVuIiwicmVzdWx0IiwiYWpheCIsInVybCIsIlJvdXRpbmciLCJnZW5lcmF0ZSIsImF0dHIiLCJmaWVsZE5hbWUiLCJtZXRob2QiLCJzdWNjZXNzIiwiX2RlbGV0ZVJvdyIsImVycm9yIiwiJGxpbmsiLCJyZW1vdmUiLCJsZW5ndGgiLCJvcmlnaW5hbE5hbWUiLCJjYW5jbGVCdXR0b24iLCJodG1sIiwiY29uY2F0IiwiZmluZCIsIm1haW5BdHRhY2htZW50TGlzdCIsInByZXBlbmQiLCJtYWluTGlzdCIsImZpbGVuYW1lIiwiZG93bmxvYWQiLCJzYXZlIiwid2luZG93Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLGlNQ2xGTUMsYUFHRixTQUFBQSxFQUFZQyxFQUFNQyxFQUFLQyxFQUFJQyxFQUFtQkMsRUFBZ0JDLEVBQUtDLGdHQUFNQyxDQUFBQyxLQUFBVCxHQUVyRVMsS0FBS1IsTUFBUUEsRUFDYlEsS0FBS04sR0FBR0EsRUFDUk0sS0FBS1AsS0FBT0EsRUFDWk8sS0FBS0gsS0FBS0EsRUFDVkcsS0FBS0YsS0FBS0EsRUFDVkUsS0FBS0MsY0FDTEQsS0FBS0wsa0JBQW9CQSxFQUN6QkssS0FBS0osZ0JBQWtCQSxFQUN2Qk0sRUFBRSxJQUFJVixHQUFPVyxHQUFHLE9BQU9ILEtBQUtJLFVBQVVDLG9CQUN0Q0gsRUFBRSxJQUFJVixHQUFPVyxHQUFHLFFBQVNILEtBQUtJLFVBQVVFLE9BQVFOLEtBQUtPLFlBQVl4QixLQUFLaUIsa0dBMEI5RFEsR0FDUixJQUFJQyxFQUFPVCxLQUNQVSxHQUNBSixPQUFRRSxFQUFFRyxlQUVWQyxFQUFZVixFQUFFUSxFQUFLSixRQUNqQk8sRUFBTVgsRUFBRU0sRUFBRUcsZUFBZUcsUUFBUSxvQkFDdkNDLE1BQ0lDLE1BQU8sY0FDUEMsa0JBQWtCLEVBRWxCQyxrQkFBbUIsaUJBQ25CQyxtQkFBb0IsdUJBQ3BCQyxnQkFBZ0IsSUFHakJDLEtBQUssU0FBVUMsR0FDVkEsRUFBTzlDLE9BQ1AwQixFQUFFcUIsTUFDRUMsSUFBS0MsUUFBUUMsU0FBU2pCLEVBQUtiLGlCQUFrQkYsR0FBR21CLEVBQUljLEtBQUssV0FBYUMsVUFBVW5CLEVBQUtqQixRQUNyRnFDLE9BQVEsU0FDUkMsUUFBUyxTQUFVcEIsR0FDZkssTUFDSUMsTUFBTyxVQUNQRyxtQkFBb0IsdUJBQ3BCQyxnQkFBZ0IsSUFFcEJYLEVBQUtzQixXQUFXbkIsSUFHcEJvQixNQUFPLG9EQVVaQyxHQUVPQSxFQUFNbkIsUUFBUSxLQUNwQm9CLHlDQU1KeEIsR0FDSixJQUFLLElBQUluRCxFQUFJLEVBQUdBLEVBQUltRCxFQUFLeUIsT0FBUTVFLElBQUssQ0FDbEMsSUFBSTZFLEVBQWUxQixFQUFLbkQsR0FBTCxhQUNmdUMsRUFBT0UsS0FBS0YsS0FFWnVDLEVBQWUsR0FDUCxPQUFSdkMsR0FBeUIsUUFBUkEsSUFDakJ1QyxFQUFlLFlBR25CLElBQUlDLEVBQU8seUtBQUFDLE9BQytJN0IsRUFBS25ELEdBQUwsR0FEL0ksK0RBQUFnRixPQUVrQ0gsRUFGbEMsd0VBQUFHLE9BR3FDZCxRQUFRQyxTQUFTMUIsS0FBS0wsbUJBQW9CRCxHQUFNZ0IsRUFBS25ELEdBQUwsS0FIckYsaU5BS29EOEUsRUFMcEQsaUxBV0NuQyxFQUFFLElBQUlGLEtBQUtSLE9BQU9nRCxLQUFLeEMsS0FBS0ksVUFBVXFDLG9CQUFvQkMsUUFBUUosK0JBdEZsRixPQUFPdEMsS0FBS04scUNBSVosT0FDSWlELFNBQVUsd0JBQ1ZDLFNBQVUsc0JBQ1ZDLFNBQVUscUJBQ1Z2QyxPQUFRLG1CQUNSd0MsS0FBTSxjQUNOTCxtQkFBb0Isa0NBa0ZoQ00sT0FBT3hELFdBQWFBIiwiZmlsZSI6IlVwbG9hZEZpbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNjEpO1xuIiwiY2xhc3MgVXBsb2FkRmlsZSB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGZpZWxkLHV1aWQsaWQsIGZ1bmNEb3dubG9hZFJvdXRlLCBmdW5jRGVsZXRlUm91dGUsZnVuYyx0eXBlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcclxuICAgICAgICB0aGlzLmlkPWlkO1xyXG4gICAgICAgIHRoaXMudXVpZCA9IHV1aWQ7XHJcbiAgICAgICAgdGhpcy5mdW5jPWZ1bmM7XHJcbiAgICAgICAgdGhpcy50eXBlPXR5cGU7XHJcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzID0gW107XHJcbiAgICAgICAgdGhpcy5mdW5jRG93bmxvYWRSb3V0ZSA9IGZ1bmNEb3dubG9hZFJvdXRlO1xyXG4gICAgICAgIHRoaXMuZnVuY0RlbGV0ZVJvdXRlID0gZnVuY0RlbGV0ZVJvdXRlO1xyXG4gICAgICAgICQoXCIjXCIrZmllbGQpLm9uKCdibHVyJyx0aGlzLl9zZWxlY3Rvci5hdHRhY2htZW50RHJvcFpvbmUpO1xyXG4gICAgICAgICQoXCIjXCIrZmllbGQpLm9uKCdjbGljaycsIHRoaXMuX3NlbGVjdG9yLmRlbGV0ZSwgdGhpcy5fZGVsZXRlRmlsZS5iaW5kKHRoaXMpKTtcclxuICAgICAgIC8qIGNvbnNvbGUubG9nKHRoaXMudHlwZSk7XHJcbiAgICAgICAgaWYodGhpcy50eXBlPT1cIm5ld1wiIHx8IHRoaXMudHlwZT09J2VkaXQnKXtcclxuICAgICAgICAgICAgJCgnYnV0dG9uLmpzLWRlbGV0ZScpLnByb3AoXCJkaXNhYmxlZFwiLGZhbHNlKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJCgnYnV0dG9uLmpzLWRlbGV0ZScpLnByb3AoXCJkaXNhYmxlZFwiLHRydWUpO1xyXG4gICAgICAgIH0qL1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBJRCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgX3NlbGVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1haW5MaXN0OiBcInVsLmpzLWF0dGFjaG1lbnQtbGlzdFwiLFxyXG4gICAgICAgICAgICBmaWxlbmFtZTogXCJsYWJlbC5qcy1hdHRhY2htZW50XCIsXHJcbiAgICAgICAgICAgIGRvd25sb2FkOiBcImJ1dHRvbiNqcy1kb3dubG9hZFwiLFxyXG4gICAgICAgICAgICBkZWxldGU6IFwiYnV0dG9uLmpzLWRlbGV0ZVwiLFxyXG4gICAgICAgICAgICBzYXZlOiBcImJ1dHRvbiNzYXZlXCIsXHJcbiAgICAgICAgICAgIG1haW5BdHRhY2htZW50TGlzdDogXCJ1bC5qcy1hdHRhY2htZW50LWxpc3RcIixcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfZGVsZXRlRmlsZShlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICBkZWxldGU6IGUuY3VycmVudFRhcmdldFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGRlbGV0ZUJ0biA9ICQoZGF0YS5kZWxldGUpO1xyXG4gICAgICAgIGNvbnN0ICRsaSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcubGlzdC1ncm91cC1pdGVtJyk7XHJcbiAgICAgICAgc3dhbCh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIueiuuWumuimgeWIqumZpOipsuethuizh+aWmeWXju+8n1wiLFxyXG4gICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG5cclxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ2xhc3M6ICdidG4gYnRuLWRhbmdlcicsXHJcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogJ2J0biBidG4tcHJpbWFyeSBzYXZlJyxcclxuICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlXHJcblxyXG5cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFJvdXRpbmcuZ2VuZXJhdGUoc2VsZi5mdW5jRGVsZXRlUm91dGUsIHtpZDokbGkuYXR0cignZGF0YS1pZCcpICwgZmllbGROYW1lOnNlbGYuZmllbGR9KSxcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdEZWxldGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi6Kmy562G6LOH5paZ5bey5Yiq6ZmkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICdidG4gYnRuLXByaW1hcnkgc2F2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGVsZXRlUm93KGRlbGV0ZUJ0bik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfZGVsZXRlUm93KCRsaW5rKSB7XHJcblxyXG4gICAgICAgIGxldCAkcGFyZW50ID0gJGxpbmsuY2xvc2VzdChcInBcIik7XHJcbiAgICAgICAgJHBhcmVudC5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICBzaG93TXVsKGRhdGEpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsTmFtZSA9IGRhdGFbaV1bJ29yaWdpbmFsTmFtZSddO1xyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMudHlwZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYW5jbGVCdXR0b24gPSAnJztcclxuICAgICAgICAgICAgaWYgKHR5cGUgIT0gJ25ldycgJiYgdHlwZSAhPSAnZWRpdCcpIHtcclxuICAgICAgICAgICAgICAgIGNhbmNsZUJ1dHRvbiA9ICdkaXNhYmxlZCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBodG1sID0gYFxyXG4gICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgbGljaG5hZ2VcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHVuc2V0O2JvcmRlcjogdW5zZXRcIiBkYXRhLWlkPVwiJHtkYXRhW2ldWydpZCddfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCAgc3R5bGU9XCJ3aWR0aDogYXV0bztcIj4ke29yaWdpbmFsTmFtZX08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHtSb3V0aW5nLmdlbmVyYXRlKHRoaXMuZnVuY0Rvd25sb2FkUm91dGUsIHsnaWQnOiBkYXRhW2ldWydpZCddfSl9XCIgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXNtXCIgc3R5bGU9XCJ2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmEgZmEtZG93bmxvYWRcIj48L3NwYW4+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwianMtZGVsZXRlIGJ0biBidG4tbGluayBidG4tc21cIiBgK2NhbmNsZUJ1dHRvbitgIHR5cGU9XCJidXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmEgZmEtdHJhc2gtb1wiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj48L3A+XHJcbiAgICAgICAgICAgYDtcclxuXHJcbiAgICAgICAgICAgIHZhciBodG1sMSA9ICQoXCIjXCIrdGhpcy5maWVsZCkuZmluZCh0aGlzLl9zZWxlY3Rvci5tYWluQXR0YWNobWVudExpc3QpLnByZXBlbmQoaHRtbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxud2luZG93LlVwbG9hZEZpbGUgPSBVcGxvYWRGaWxlO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==